<!-- %%[
set @channel = RequestParameter("channel")
]%%
<script type="javascript" runat="server">
Platform.Load("core","1"); 
var ip = Platform.Request.ClientIP();
var browser = Platform.Request.Browser();
Variable.SetValue("@ip",ip);
Variable.SetValue("@broswer",browser);
</script> -->
<!DOCTYPE html>
<html class="" lang="en">
  <head>
    <link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans&amp;display=fallback">
    <link rel="stylesheet" href="/Sign Up | Footer/sign-up-footer.css">
  </head>
  <body>
    <div class="layout">
      <div id="text1_wrapper">
        <div class="text1">
          Sign up for our newsletter
        </div>
      </div>
      <div id="text2_wrapper">
        <div class="text2">
          Stay informed. When you sign up you'll receive our top local news stories delivered to you inbox.
        </div>
      </div>
      <form id="footerSignUp" method="post" action="#">
        <div class="form_wrapper">
          <div id="form">
            <label id="form_input_email_ada_label" for="form_input_email"
                   style="border: 0;clip: rect(0 0 0 0);height: 1px;width: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;">Your
              Email</label>
            <div id="form_label_email" class="form_labels form_spacing form_labels_hide">Your
              Email
              <span id="form_label_email_required" class="form_labels_required">*required</span>
            </div>
            <div id="form_input_email_wrapper" class="form_inputs_wrapper form_spacing">
              <input
                     type="text" id="form_input_email" name="form_input_email" class="form_inputs"
                     placeholder="johndoe@gmail.com">
              <div id="form_input_email_help" class="form_inputs_help" style="display: none;">
              </div>
              <div id="form_input_email_error_text" class="form_inputs_error_text">
              </div>
     <input value="%%=v(@channel)=%%" type="hidden" name="channel"/>
              <input value="%%=v(@ip)=%%" type="hidden" name="ip"/>
              <input value="%%=v(@broswer)=%%" type="hidden" name="broswer"/>
     <input value="Footer sign-up" type="hidden" name="source"/>
            </div>
            <div id="button1_wrapper">
              <button id="button1" class="button1" aria-label="Submit Modal Form">SIGN
                UP</button>
            </div>
          </div>
        </div>
        
      </form>
      <div id="thxlayout" style="display: none;">
        <div id="thxtext1_wrapper">
          <div id="thxtext1">Thank you for subscribing!
          </div>
        </div>
      </div>
    </div>
  </body>
  <!-- <script type="text/javascript" src="https://code.jquery.com/jquery-latest.js">  </script> -->
  <!-- <script>
    $(function () {
      $("#footerSignUp").submit(function (e) {
        e.preventDefault();
        const params = new URLSearchParams(window.location.search);
        var channel = params.get('channel');
        data = $(this).serialize();
        $(this).find("input").removeClass("error");
        if ($(this).find("input[name='email']").val().length > 0 && validateEmail($(this).find("input[name='email']").val())) {
          $(this).find("input[name='email']").removeClass("error");
        }
        else {
          $("#formAlert").html("Please provide a valid email address.");
          return 0;
        }
        //console.log(data);
        $.ajax({
          'data': $(this).serialize(),
          'url': 'https://mcscy3hz7znv60v-895pbhg46h81.pub.sfmc-content.com/xsf5hhqvrvq',
          'crossDomain': true,
          'dataType': 'jsonp',
          'type': 'POST',
          'contentType': 'application/json; charset=utf-8',
          'responseType': 'text/html',
          'jsonpCallback': 'processJSONPResponse'
        }
              );
      }
                               );
    }
     );
    $(document).ready (function(){
      const params = new URLSearchParams(window.location.search);
      params.get('channel');
    });
    function processJSONPResponse(response) {
      $("#thxlayout").show();
      $("#text1_wrapper").hide();
      $("#text2_wrapper").hide();
      $("#footerSignUp").hide();
    }
    function validateEmail(email) {
      var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
      return re.test(String(email).toLowerCase());
    }
  </script> -->
</html>